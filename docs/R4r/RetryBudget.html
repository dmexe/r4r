<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: R4r::RetryBudget
  
    &mdash; Documentation by YARD 0.9.12
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "R4r::RetryBudget";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (R)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../R4r.html" title="R4r (module)">R4r</a></span></span>
     &raquo; 
    <span class="title">RetryBudget</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: R4r::RetryBudget
  <span class="abstract note title">Abstract</span>
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">R4r::RetryBudget</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/r4r/retry_budget.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <div class="note abstract">
  <strong>This class is abstract.</strong>
  <div class='inline'></div>
</div>

<p>Represents a budget for retrying requests.</p>

<p>A retry budget is useful for attenuating the amplifying effects of many
clients within a process retrying requests multiple times. This acts as a
form of coordination between those retries.</p>

<p>A Ruby port of the finagle&#39;s RetryBudget.</p>


  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="https://github.com/twitter/finagle/blob/master/finagle-core/src/main/scala/com/twitter/finagle/service/RetryBudget.scala" target="_parent" title="https://github.com/twitter/finagle/blob/master/finagle-core/src/main/scala/com/twitter/finagle/service/RetryBudget.scala">https://github.com/twitter/finagle/blob/master/finagle-core/src/main/scala/com/twitter/finagle/service/RetryBudget.scala</a></li>
    
  </ul>

</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="EmptyRetryBudget.html" title="R4r::EmptyRetryBudget (class)">EmptyRetryBudget</a></span>, <span class='object_link'><a href="InfiniteRetryBudget.html" title="R4r::InfiniteRetryBudget (class)">InfiniteRetryBudget</a></span>, <span class='object_link'><a href="TokenRetryBudget.html" title="R4r::TokenRetryBudget (class)">TokenRetryBudget</a></span></p>
</div>







  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create-class_method" title="create (class method)">.<strong>create</strong>(ttl_ms: nil, min_retries_per_second: nil, percent_can_retry: nil, clock: nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates a <span class='object_link'><a href="" title="R4r::RetryBudget (class)">RetryBudget</a></span> that allows for about `percent_can_retry`
percent of the total <span class='object_link'><a href="#deposit-instance_method" title="R4r::RetryBudget#deposit (method)">#deposit</a></span> requests to be retried.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#empty-class_method" title="empty (class method)">.<strong>empty</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates an empty retry budget.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#infinite-class_method" title="infinite (class method)">.<strong>infinite</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates an infinite retry budget.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#balance-instance_method" title="#balance (instance method)">#<strong>balance</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The balance or number of retries that can be made now.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#deposit-instance_method" title="#deposit (instance method)">#<strong>deposit</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Indicates a deposit, or credit, which will typically permit future
withdrawals.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#try_withdraw-instance_method" title="#try_withdraw (instance method)">#<strong>try_withdraw</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Check whether or not there is enough balance remaining to issue a retry, or
make a withdrawal.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="create-class_method">
  
    .<strong>create</strong>(ttl_ms: nil, min_retries_per_second: nil, percent_can_retry: nil, clock: nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Creates a <span class='object_link'><a href="" title="R4r::RetryBudget (class)">R4r::RetryBudget</a></span> that allows for about `percent_can_retry`
percent of the total <span class='object_link'><a href="#deposit-instance_method" title="R4r::RetryBudget#deposit (method)">#deposit</a></span> requests to be retried.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>ttl_ms</span>
      
      
        <span class='type'>(<tt>Fixnum</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>deposits created by <span class='object_link'><a href="#deposit-instance_method" title="R4r::RetryBudget#deposit (method)">#deposit</a></span> expire after approximately
`ttl_ms` time has passed. Must be `&gt;= 1 second` and `&lt;= 60 seconds`.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>min_retries_per_second</span>
      
      
        <span class='type'>(<tt>Fixnum</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the minimum rate of retries allowed in order to accommodate clients that
have just started issuing requests as well as clients that do not issue
many requests per window. Must be non-negative and if `0`, then no reserve
is given.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>percent_can_retry</span>
      
      
        <span class='type'>(<tt>Float</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the percentage of calls to `deposit()` that can be retried. This is in
addition to any retries allowed for via `min_retries_per_second`. Must be
&gt;= 0 and &lt;= 1000. As an example, if `0.1` is used, then for every 10
calls to `deposit()`, 1 retry will be allowed. If `2.0` is used then every
`deposit` allows for 2 retries.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>clock</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Clock.html" title="R4r::Clock (class)">R4r::Clock</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the current time for testing</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/r4r/retry_budget.rb', line 53</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_create'>create</span><span class='lparen'>(</span><span class='label'>ttl_ms:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>min_retries_per_second:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>percent_can_retry:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>clock:</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_ttl_ms'>ttl_ms</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_ttl_ms'>ttl_ms</span> <span class='op'>||</span> <span class='const'><span class='object_link'><a href="../R4r.html" title="R4r (module)">R4r</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="TokenRetryBudget.html" title="R4r::TokenRetryBudget (class)">TokenRetryBudget</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="TokenRetryBudget.html#DEFAULT_TTL_MS-constant" title="R4r::TokenRetryBudget::DEFAULT_TTL_MS (constant)">DEFAULT_TTL_MS</a></span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
  <span class='id identifier rubyid_min_retries_per_second'>min_retries_per_second</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_min_retries_per_second'>min_retries_per_second</span> <span class='op'>||</span> <span class='int'>10</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
  <span class='id identifier rubyid_percent_can_retry'>percent_can_retry</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_percent_can_retry'>percent_can_retry</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span> <span class='op'>||</span> <span class='float'>0.2</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_ttl_ms'>ttl_ms</span> <span class='op'>&gt;=</span> <span class='int'>0</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_ttl_ms'>ttl_ms</span> <span class='op'>&lt;=</span> <span class='int'>60</span> <span class='op'>*</span> <span class='int'>1000</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ttl_ms must be in [1.second, 60.seconds], got </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ttl_ms'>ttl_ms</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_min_retries_per_second'>min_retries_per_second</span> <span class='op'>&gt;=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>min_retries_per_second cannot be nagative, got </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_min_retries_per_second'>min_retries_per_second</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_percent_can_retry'>percent_can_retry</span> <span class='op'>&gt;=</span> <span class='float'>0.0</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>percent_can_retry cannot be negative, got </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_percent_can_retry'>percent_can_retry</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_percent_can_retry'>percent_can_retry</span> <span class='op'>&lt;=</span> <span class='const'><span class='object_link'><a href="../R4r.html" title="R4r (module)">R4r</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="TokenRetryBudget.html" title="R4r::TokenRetryBudget (class)">TokenRetryBudget</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="TokenRetryBudget.html#SCALE_FACTOR-constant" title="R4r::TokenRetryBudget::SCALE_FACTOR (constant)">SCALE_FACTOR</a></span></span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>percent_can_retry cannot be greater then </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="../R4r.html" title="R4r (module)">R4r</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="TokenRetryBudget.html" title="R4r::TokenRetryBudget (class)">TokenRetryBudget</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="TokenRetryBudget.html#SCALE_FACTOR-constant" title="R4r::TokenRetryBudget::SCALE_FACTOR (constant)">SCALE_FACTOR</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>, got </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_percent_can_retry'>percent_can_retry</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_min_retries_per_second'>min_retries_per_second</span> <span class='op'>==</span> <span class='int'>0</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_percent_can_retry'>percent_can_retry</span> <span class='op'>==</span> <span class='float'>0.0</span>
    <span class='kw'>return</span> <span class='const'><span class='object_link'><a href="../R4r.html" title="R4r (module)">R4r</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="R4r::RetryBudget (class)">RetryBudget</a></span></span><span class='period'>.</span><span class='id identifier rubyid_empty'><span class='object_link'><a href="#empty-class_method" title="R4r::RetryBudget.empty (method)">empty</a></span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_deposit_amount'>deposit_amount</span> <span class='op'>=</span> <span class='id identifier rubyid_percent_can_retry'>percent_can_retry</span> <span class='op'>==</span> <span class='float'>0.0</span> <span class='op'>?</span> <span class='int'>0</span> <span class='op'>:</span> <span class='const'><span class='object_link'><a href="../R4r.html" title="R4r (module)">R4r</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="TokenRetryBudget.html" title="R4r::TokenRetryBudget (class)">TokenRetryBudget</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="TokenRetryBudget.html#SCALE_FACTOR-constant" title="R4r::TokenRetryBudget::SCALE_FACTOR (constant)">SCALE_FACTOR</a></span></span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
  <span class='id identifier rubyid_withdrawal_amount'>withdrawal_amount</span> <span class='op'>=</span> <span class='id identifier rubyid_percent_can_retry'>percent_can_retry</span> <span class='op'>==</span> <span class='float'>0.0</span> <span class='op'>?</span> <span class='int'>1</span> <span class='op'>:</span> <span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../R4r.html" title="R4r (module)">R4r</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="TokenRetryBudget.html" title="R4r::TokenRetryBudget (class)">TokenRetryBudget</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="TokenRetryBudget.html#SCALE_FACTOR-constant" title="R4r::TokenRetryBudget::SCALE_FACTOR (constant)">SCALE_FACTOR</a></span></span> <span class='op'>/</span> <span class='id identifier rubyid_percent_can_retry'>percent_can_retry</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
  <span class='id identifier rubyid_reserve'>reserve</span> <span class='op'>=</span> <span class='id identifier rubyid_min_retries_per_second'>min_retries_per_second</span> <span class='op'>*</span> <span class='lparen'>(</span><span class='id identifier rubyid_ttl_ms'>ttl_ms</span> <span class='op'>/</span> <span class='int'>1000</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='id identifier rubyid_withdrawal_amount'>withdrawal_amount</span>
  <span class='id identifier rubyid_bucket'>bucket</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../R4r.html" title="R4r (module)">R4r</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="LeakyTokenBucket.html" title="R4r::LeakyTokenBucket (class)">LeakyTokenBucket</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="LeakyTokenBucket.html#initialize-instance_method" title="R4r::LeakyTokenBucket#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='label'>ttl_ms:</span> <span class='id identifier rubyid_ttl_ms'>ttl_ms</span><span class='comma'>,</span> <span class='label'>reserve:</span> <span class='id identifier rubyid_reserve'>reserve</span><span class='comma'>,</span> <span class='label'>clock:</span> <span class='id identifier rubyid_clock'>clock</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="../R4r.html" title="R4r (module)">R4r</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="TokenRetryBudget.html" title="R4r::TokenRetryBudget (class)">TokenRetryBudget</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="TokenRetryBudget.html#initialize-instance_method" title="R4r::TokenRetryBudget#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='label'>bucket:</span> <span class='id identifier rubyid_bucket'>bucket</span><span class='comma'>,</span> <span class='label'>deposit_amount:</span> <span class='id identifier rubyid_deposit_amount'>deposit_amount</span><span class='comma'>,</span> <span class='label'>withdrawal_amount:</span> <span class='id identifier rubyid_withdrawal_amount'>withdrawal_amount</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="empty-class_method">
  
    .<strong>empty</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Creates an empty retry budget.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


83
84
85</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/r4r/retry_budget.rb', line 83</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_empty'>empty</span>
  <span class='const'><span class='object_link'><a href="EmptyRetryBudget.html" title="R4r::EmptyRetryBudget (class)">EmptyRetryBudget</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="infinite-class_method">
  
    .<strong>infinite</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Creates an infinite retry budget.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


88
89
90</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/r4r/retry_budget.rb', line 88</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_infinite'>infinite</span>
  <span class='const'><span class='object_link'><a href="InfiniteRetryBudget.html" title="R4r::InfiniteRetryBudget (class)">InfiniteRetryBudget</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="balance-instance_method">
  
    #<strong>balance</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The balance or number of retries that can be made now.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>NotImplementedError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


31
32
33</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/r4r/retry_budget.rb', line 31</span>

<span class='kw'>def</span> <span class='id identifier rubyid_balance'>balance</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="deposit-instance_method">
  
    #<strong>deposit</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Indicates a deposit, or credit, which will typically permit future
withdrawals.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>NotImplementedError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


16
17
18</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/r4r/retry_budget.rb', line 16</span>

<span class='kw'>def</span> <span class='id identifier rubyid_deposit'>deposit</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="try_withdraw-instance_method">
  
    #<strong>try_withdraw</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Check whether or not there is enough balance remaining to issue a retry, or
make a withdrawal.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>`true`, if the retry is allowed and a withdrawal will take place. `false`,
the balance should remain untouched.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>NotImplementedError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


26
27
28</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/r4r/retry_budget.rb', line 26</span>

<span class='kw'>def</span> <span class='id identifier rubyid_try_withdraw'>try_withdraw</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Wed Nov 29 14:11:59 2017 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.12 (ruby-2.2.8).
</div>

    </div>
  </body>
</html>